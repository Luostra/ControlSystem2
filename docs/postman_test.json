{
  "info": {
    "name": "Construction Tasks API - –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
    "description": "–ü–æ–ª–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∑–∞–∫–∞–∑—ã, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8000",
      "type": "string"
    },
    {
      "key": "jwtToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "jwtToken2",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId2",
      "value": "",
      "type": "string"
    },
    {
      "key": "orderId",
      "value": "",
      "type": "string"
    },
    {
      "key": "orderId2",
      "value": "",
      "type": "string"
    },
    {
      "key": "otherUserOrderId",
      "value": "",
      "type": "string"
    },
    {
      "key": "testEmail",
      "value": "testuser{{$timestamp}}@example.com",
      "type": "string"
    },
    {
      "key": "testEmail2",
      "value": "seconduser{{$timestamp}}@example.com",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ Health Check",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "X-Request-ID",
            "value": "setup-{{$timestamp}}"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/health",
          "host": ["{{baseUrl}}"],
          "path": ["health"]
        }
      },
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test(\"Health check passed\", function() {",
              "    pm.response.to.have.status(200);",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData.success).to.be.true;",
              "    pm.expect(jsonData.data.status).to.equal('OK');",
              "});",
              "",
              "console.log('=== –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ ===');",
              "console.log('–í—ã–ø–æ–ª–Ω—è–π—Ç–µ —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–æ –≥—Ä—É–ø–ø–∞–º:');",
              "console.log('1. –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π');",
              "console.log('2. –§—É–Ω–∫—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤');", 
              "console.log('3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞');"
            ]
          }
        }
      ]
    },
    {
      "name": "üéØ –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
      "item": [
        {
          "name": "1. –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –ø–æ–ª—è–º–∏",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "test-register-valid-{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\",\n  \"password\": \"ValidPassword123\",\n  \"name\": \"–í–∞—Å–∏–ª–∏–π –ü–µ—Ç—Ä–æ–≤\",\n  \"roles\": [\"user\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/users/register",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "users", "register"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ï–°–¢: –°—Ç–∞—Ç—É—Å 201 Created",
                  "pm.test(\"–°–¢–ê–¢–£–° 201 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω\", function() {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "// –¢–ï–°–¢: –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º",
                  "pm.test(\"–£–°–ü–ï–®–ù–´–ô –û–¢–í–ï–¢ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º\", function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.expect(jsonData.data.user).to.be.an('object');",
                  "    pm.expect(jsonData.data.user.id).to.be.a('string').and.to.have.lengthOf.at.least(10);",
                  "    pm.expect(jsonData.data.user.email).to.equal('{{testEmail}}');",
                  "    pm.expect(jsonData.data.user.name).to.equal('–í–∞—Å–∏–ª–∏–π –ü–µ—Ç—Ä–æ–≤');",
                  "    pm.expect(jsonData.data.user.roles).to.include('user');",
                  "});",
                  "",
                  "// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤",
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('jwtToken', jsonData.data.token);",
                  "    pm.collectionVariables.set('userId', jsonData.data.user.id);",
                  "    console.log('‚úÖ –ü–µ—Ä–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω: ' + jsonData.data.user.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "2. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å —Ç–æ–π –∂–µ –ø–æ—á—Ç–æ–π",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "test-register-duplicate-{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\",\n  \"password\": \"AnotherPassword456\",\n  \"name\": \"–î—Ä—É–≥–æ–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/users/register",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "users", "register"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ï–°–¢: –°—Ç–∞—Ç—É—Å 409 Conflict",
                  "pm.test(\"–°–¢–ê–¢–£–° 409 - –ö–æ–Ω—Ñ–ª–∏–∫—Ç\", function() {",
                  "    pm.response.to.have.status(409);",
                  "});",
                  "",
                  "// –¢–ï–°–¢: –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è –æ—à–∏–±–∫–∞",
                  "pm.test(\"–ö–û–ù–¢–†–û–õ–ò–†–£–ï–ú–ê–Ø –û–®–ò–ë–ö–ê - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç\", function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.false;",
                  "    pm.expect(jsonData.error.code).to.equal('USER_EXISTS');",
                  "    pm.expect(jsonData.error.message).to.include('already exists');",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "3. –í—Ö–æ–¥ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "test-login-correct-{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\",\n  \"password\": \"ValidPassword123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/users/login",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "users", "login"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ï–°–¢: –°—Ç–∞—Ç—É—Å 200 OK",
                  "pm.test(\"–°–¢–ê–¢–£–° 200 - –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// –¢–ï–°–¢: –í—ã–¥–∞—á–∞ JWT —Ç–æ–∫–µ–Ω–∞",
                  "pm.test(\"–í–´–î–ê–ß–ê JWT –¢–û–ö–ï–ù–ê\", function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.expect(jsonData.data.token).to.be.a('string').and.to.have.lengthOf.at.least(50);",
                  "    pm.expect(jsonData.data.user.email).to.equal('{{testEmail}}');",
                  "});",
                  "",
                  "// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞",
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('jwtToken', jsonData.data.token);",
                  "    console.log('‚úÖ –¢–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω');",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "4. –î–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â—ë–Ω–Ω–æ–º—É –ø—É—Ç–∏ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Request-ID",
                "value": "test-no-token-{{$timestamp}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "users", "profile"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ï–°–¢: –°—Ç–∞—Ç—É—Å 401 Unauthorized",
                  "pm.test(\"–°–¢–ê–¢–£–° 401 - –û—Ç–∫–∞–∑ –≤ –¥–æ—Å—Ç—É–ø–µ\", function() {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "// –¢–ï–°–¢: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—à–∏–±–∫–∏",
                  "pm.test(\"–û–¢–ö–ê–ó - –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞\", function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.false;",
                  "    pm.expect(jsonData.error.code).to.equal('UNAUTHORIZED');",
                  "    pm.expect(jsonData.error.message).to.include('Authentication token required');",
                  "});"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üì¶ –§—É–Ω–∫—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤",
      "item": [
        {
          "name": "5. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwtToken}}"
              },
              {
                "key": "X-Request-ID",
                "value": "test-create-order-{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"product\": \"–ë–µ—Ç–æ–Ω –ú300\",\n      \"quantity\": 15,\n      \"price\": 3500\n    },\n    {\n      \"product\": \"–ê—Ä–º–∞—Ç—É—Ä–∞ 12mm\", \n      \"quantity\": 100,\n      \"price\": 85\n    }\n  ],\n  \"notes\": \"–î–ª—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ –æ–±—ä–µ–∫—Ç–∞ ‚Ññ7\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/orders",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ï–°–¢: –°—Ç–∞—Ç—É—Å 201 Created",
                  "pm.test(\"–°–¢–ê–¢–£–° 201 - –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω\", function() {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "// –¢–ï–°–¢: –£—Å–ø–µ—Ö –∏ —Å—Ç–∞—Ç—É—Å 'created'",
                  "pm.test(\"–£–°–ü–ï–• –∏ —Å—Ç–∞—Ç—É—Å 'created'\", function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.expect(jsonData.data.order.status).to.equal('created');",
                  "    pm.expect(jsonData.data.order.userId).to.equal(pm.variables.get('userId'));",
                  "    pm.expect(jsonData.data.order.totalAmount).to.equal(15*3500 + 100*85);",
                  "});",
                  "",
                  "// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ID –∑–∞–∫–∞–∑–∞",
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('orderId', jsonData.data.order.id);",
                  "    console.log('‚úÖ –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω: ' + jsonData.data.order.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "6. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –∑–∞–∫–∞–∑–∞",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwtToken}}"
              },
              {
                "key": "X-Request-ID",
                "value": "test-get-own-order-{{$timestamp}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/orders/{{orderId}}",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders", "{{orderId}}"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ï–°–¢: –°—Ç–∞—Ç—É—Å 200 OK",
                  "pm.test(\"–°–¢–ê–¢–£–° 200 - –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// –¢–ï–°–¢: –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞",
                  "pm.test(\"–£–°–ü–ï–• - –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã\", function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.expect(jsonData.data.order.id).to.equal(pm.variables.get('orderId'));",
                  "    pm.expect(jsonData.data.order.userId).to.equal(pm.variables.get('userId'));",
                  "    pm.expect(jsonData.data.order.items).to.have.lengthOf(2);",
                  "    pm.expect(jsonData.data.order.notes).to.equal('–î–ª—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ –æ–±—ä–µ–∫—Ç–∞ ‚Ññ7');",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "7. –°–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö –∑–∞–∫–∞–∑–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwtToken}}"
              },
              {
                "key": "X-Request-ID",
                "value": "test-orders-pagination-{{$timestamp}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/orders?page=1&limit=2&sortBy=createdAt&sortOrder=desc",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "2"
                },
                {
                  "key": "sortBy",
                  "value": "createdAt"
                },
                {
                  "key": "sortOrder",
                  "value": "desc"
                }
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ï–°–¢: –°—Ç–∞—Ç—É—Å 200 OK",
                  "pm.test(\"–°–¢–ê–¢–£–° 200 - –°–ø–∏—Å–æ–∫ –ø–æ–ª—É—á–µ–Ω\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// –¢–ï–°–¢: –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–æ–ª—è –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è",
                  "pm.test(\"–ö–û–†–†–ï–ö–¢–ù–´–ï –ü–û–õ–Ø –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è\", function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    ",
                  "    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞–∫–∞–∑–æ–≤",
                  "    pm.expect(jsonData.data.orders).to.be.an('array');",
                  "    if (jsonData.data.orders.length > 0) {",
                  "        var order = jsonData.data.orders[0];",
                  "        pm.expect(order).to.have.keys(['id', 'userId', 'items', 'status', 'totalAmount', 'createdAt', 'updatedAt']);",
                  "        pm.expect(order.userId).to.equal(pm.variables.get('userId'));",
                  "    }",
                  "    ",
                  "    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏",
                  "    pm.expect(jsonData.data.pagination).to.be.an('object');",
                  "    pm.expect(jsonData.data.pagination.page).to.equal(1);",
                  "    pm.expect(jsonData.data.pagination.limit).to.equal(2);",
                  "    pm.expect(jsonData.data.pagination.total).to.be.a('number').and.to.be.at.least(0);",
                  "    pm.expect(jsonData.data.pagination.totalPages).to.be.a('number').and.to.be.at.least(0);",
                  "});"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞",
      "item": [
        {
          "name": "8. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "test-register-second-{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail2}}\",\n  \"password\": \"SecondUserPass123\",\n  \"name\": \"–í—Ç–æ—Ä–æ–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/users/register",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "users", "register"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('jwtToken2', jsonData.data.token);",
                  "    pm.collectionVariables.set('userId2', jsonData.data.user.id);",
                  "    console.log('‚úÖ –í—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω: ' + jsonData.data.user.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "9. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –≤—Ç–æ—Ä—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwtToken2}}"
              },
              {
                "key": "X-Request-ID",
                "value": "test-create-order-second-{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"product\": \"–ö–∏—Ä–ø–∏—á —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π\",\n      \"quantity\": 1000,\n      \"price\": 30\n    }\n  ],\n  \"notes\": \"–ó–∞–∫–∞–∑ –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/orders",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ID –∑–∞–∫–∞–∑–∞ –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('otherUserOrderId', jsonData.data.order.id);",
                  "    console.log('‚úÖ –ó–∞–∫–∞–∑ –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ' + jsonData.data.order.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "10. –ü–æ–ø—ã—Ç–∫–∞ –æ–±–Ω–æ–≤–∏—Ç—å —á—É–∂–æ–π –∑–∞–∫–∞–∑",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwtToken}}"
              },
              {
                "key": "X-Request-ID",
                "value": "test-update-other-order-{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"completed\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/orders/{{otherUserOrderId}}/status",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders", "{{otherUserOrderId}}", "status"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ï–°–¢: –°—Ç–∞—Ç—É—Å 403 Forbidden",
                  "pm.test(\"–°–¢–ê–¢–£–° 403 - –û—Ç–∫–∞–∑ –≤ –¥–æ—Å—Ç—É–ø–µ\", function() {",
                  "    pm.response.to.have.status(403);",
                  "});",
                  "",
                  "// –¢–ï–°–¢: –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è –æ—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞",
                  "pm.test(\"–û–¢–ö–ê–ó - –Ω–µ–ª—å–∑—è –æ–±–Ω–æ–≤–ª—è—Ç—å —á—É–∂–æ–π –∑–∞–∫–∞–∑\", function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.false;",
                  "    pm.expect(jsonData.error.code).to.be.oneOf(['ACCESS_DENIED', 'FORBIDDEN']);",
                  "    pm.expect(jsonData.error.message).to.include('permission');",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "11. –û—Ç–º–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwtToken}}"
              },
              {
                "key": "X-Request-ID",
                "value": "test-cancel-own-order-{{$timestamp}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/orders/{{orderId}}/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders", "{{orderId}}", "cancel"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ï–°–¢: –°—Ç–∞—Ç—É—Å 200 OK",
                  "pm.test(\"–°–¢–ê–¢–£–° 200 - –ó–∞–∫–∞–∑ –æ—Ç–º–µ–Ω–µ–Ω\", function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// –¢–ï–°–¢: –°—Ç–∞—Ç—É—Å 'cancelled'",
                  "pm.test(\"–°–¢–ê–¢–£–° 'cancelled' —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω\", function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "    pm.expect(jsonData.data.order.status).to.equal('cancelled');",
                  "    pm.expect(jsonData.data.order.id).to.equal(pm.variables.get('orderId'));",
                  "});",
                  "",
                  "// –¢–ï–°–¢: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤",
                  "pm.test(\"–û–¢–°–£–¢–°–¢–í–ò–ï –ü–û–ë–û–ß–ù–´–• –≠–§–§–ï–ö–¢–û–í\", function() {",
                  "    var jsonData = pm.response.json();",
                  "    var order = jsonData.data.order;",
                  "    ",
                  "    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –∫—Ä–æ–º–µ —Å—Ç–∞—Ç—É—Å–∞",
                  "    pm.expect(order.userId).to.equal(pm.variables.get('userId'));",
                  "    pm.expect(order.items).to.have.lengthOf(2);",
                  "    pm.expect(order.totalAmount).to.equal(15*3500 + 100*85);",
                  "    pm.expect(order.notes).to.equal('–î–ª—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ –æ–±—ä–µ–∫—Ç–∞ ‚Ññ7');",
                  "    pm.expect(order.createdAt).to.be.a('string'); // –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "12. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã–π –∑–∞–∫–∞–∑ –Ω–µ–ª—å–∑—è –æ–±–Ω–æ–≤–∏—Ç—å",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwtToken}}"
              },
              {
                "key": "X-Request-ID",
                "value": "test-update-cancelled-{{$timestamp}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"in work\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/orders/{{orderId}}/status",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders", "{{orderId}}", "status"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ï–°–¢: –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ—Ç–º–µ–Ω–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞",
                  "pm.test(\"–û–®–ò–ë–ö–ê –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ—Ç–º–µ–Ω–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞\", function() {",
                  "    // –ú–æ–∂–µ—Ç –±—ã—Ç—å 400 –∏–ª–∏ 200 –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏",
                  "    var jsonData = pm.response.json();",
                  "    if (pm.response.code === 400) {",
                  "        pm.expect(jsonData.error.code).to.be.oneOf(['CANNOT_UPDATE_CANCELLED', 'INVALID_STATUS']);",
                  "    }",
                  "});",
                  "",
                  "console.log('=== –í–°–ï –¢–ï–°–¢–´ –í–´–ü–û–õ–ù–ï–ù–´ ===');",
                  "console.log('‚úÖ –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π');",
                  "console.log('‚úÖ –§—É–Ω–∫—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤');",
                  "console.log('‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞');",
                  "console.log('üéâ –°–∏—Å—Ç–µ–º–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Å–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º!');"
                ]
              }
            }
          ]
        }
      ]
    }
  ]
}